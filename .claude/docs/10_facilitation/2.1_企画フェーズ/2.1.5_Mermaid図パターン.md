# 2.1.5 Mermaid図パターン（企画フェーズ）

## 📋 このドキュメントの目的

企画フェーズで使用するMermaid図のパターン集を提供し、視覚的で分かりやすい企画書を作成する。

**重要:** 図は「千の言葉」に勝る。複雑な構造を一目で理解できるようにする。

---

## 📊 企画フェーズで使用するMermaid図

### 使用する図の種類

1. **ステークホルダーマップ** (graph TB)
2. **プロジェクトスケジュール** (gantt)
3. **現状業務フロー vs 改善後フロー** (flowchart)
4. **ROI計算フロー** (flowchart)

---

## 1. ステークホルダーマップ

### 目的
ステークホルダーの関係性・役割を可視化する。

### パターン1: 階層型ステークホルダーマップ

#### Good Example

\`\`\`mermaid
graph TB
    CTO[CTO<br/>山田三郎<br/>最終承認]
    EIGYO[営業部長<br/>田中太郎<br/>予算・要件承認]
    JOHO[情シス部長<br/>佐藤花子<br/>セキュリティ承認]
    DEV[開発責任者<br/>鈴木次郎<br/>技術選定]
    USER[営業担当者<br/>15名<br/>利用者]

    CTO --> EIGYO
    CTO --> JOHO
    CTO --> DEV
    EIGYO --> USER

    style CTO fill:#fff3cd
    style EIGYO fill:#d1ecf1
    style USER fill:#d4edda
\`\`\`

**解説:**
- 最終意思決定者（CTO）を最上位に配置
- 承認者・実行者を中間層に配置
- 利用者を最下層に配置
- 色分けで役割を明確化（黄:意思決定、青:承認、緑:利用）

#### Bad Example

\`\`\`mermaid
graph LR
    A[営業部長] --> B[情シス部長]
    B --> C[CTO]
\`\`\`

**問題点:**
- 役割が不明確
- 名前が記載されていない
- 関係性が分かりにくい
- 色分けがない

---

### パターン2: Power vs Interest マトリクス型

#### Good Example

\`\`\`mermaid
graph TB
    subgraph "高権限・高関心"
        S1[CTO<br/>技術選定最終承認]
        S2[営業部長<br/>予算・要件承認]
    end

    subgraph "高権限・低関心"
        S3[CFO<br/>予算追加承認のみ]
    end

    subgraph "低権限・高関心"
        S4[営業担当者<br/>実際の利用者]
        S5[情シス担当者<br/>運用担当]
    end

    style S1 fill:#ff6b6b
    style S2 fill:#ff6b6b
    style S3 fill:#ffd93d
    style S4 fill:#6bcf7f
    style S5 fill:#6bcf7f
\`\`\`

**解説:**
- 権限と関心度でステークホルダーを分類
- 赤: 重点的にコミュニケーション
- 黄: 定期報告で満足度確保
- 緑: 意見を積極的に聞く

---

## 2. プロジェクトスケジュール（Gantt図）

### 目的
プロジェクト全体のスケジュールを可視化する。

### パターン1: フェーズ別スケジュール

#### Good Example

\`\`\`mermaid
gantt
    title 営業支援システム刷新プロジェクト
    dateFormat YYYY-MM-DD
    section フェーズ
    企画         :2025-01-01, 30d
    要件定義     :2025-02-01, 28d
    設計         :2025-03-01, 31d
    実装         :2025-04-01, 90d
    テスト       :2025-07-01, 31d
    納品         :2025-08-01, 31d
    section マイルストーン
    企画承認     :milestone, 2025-01-31, 0d
    要件承認     :milestone, 2025-02-28, 0d
    設計承認     :milestone, 2025-03-31, 0d
    UAT完了      :milestone, 2025-07-31, 0d
    本番稼働     :milestone, 2025-08-31, 0d
\`\`\`

**解説:**
- フェーズを明確に区分
- マイルストーンを明示
- 日付を具体的に記載

#### Bad Example

\`\`\`mermaid
gantt
    title プロジェクト
    dateFormat YYYY-MM-DD
    企画  :2025-01-01, 30d
    開発  :2025-02-01, 180d
\`\`\`

**問題点:**
- フェーズが粗い（開発が大きすぎる）
- マイルストーンがない
- タイトルが曖昧

---

### パターン2: タスク並行実施スケジュール

#### Good Example

\`\`\`mermaid
gantt
    title 企画フェーズ詳細スケジュール
    dateFormat YYYY-MM-DD
    section ヒアリング
    ビジネス背景        :2025-01-01, 3d
    現状課題            :2025-01-04, 3d
    ステークホルダー    :2025-01-07, 2d
    プロジェクトゴール  :2025-01-09, 2d
    制約条件            :2025-01-11, 2d
    section ドキュメント作成
    企画書ドラフト      :2025-01-13, 5d
    レビュー・修正      :2025-01-18, 5d
    section 承認
    経営会議承認        :milestone, 2025-01-30, 0d
\`\`\`

**解説:**
- 詳細タスクを時系列で表示
- セクション分けで見やすく
- 承認までのフローを明確化

---

## 3. 現状業務フロー vs 改善後フロー

### 目的
現状の課題と改善後の効果を視覚的に比較する。

### パターン1: As-Is / To-Be 比較

#### Good Example (As-Is: 現状)

\`\`\`mermaid
flowchart LR
    A[営業訪問] --> B[Excelで<br/>日報作成<br/>⏱️ 30分]
    B --> C[メールで<br/>部長に送信<br/>⏱️ 5分]
    C --> D[部長が<br/>Excel集計<br/>⏱️ 60分]
    D --> E[レポート作成<br/>⏱️ 60分]

    style A fill:#d4edda
    style B fill:#fff3cd
    style C fill:#fff3cd
    style D fill:#f8d7da
    style E fill:#f8d7da

    note[合計時間: 約155分/日<br/>問題: 手作業が多い、ミスが発生]
\`\`\`

#### Good Example (To-Be: 改善後)

\`\`\`mermaid
flowchart LR
    A[営業訪問] --> B[アプリで<br/>日報入力<br/>⏱️ 10分]
    B --> C[自動で<br/>DB保存]
    C --> D[ダッシュボードで<br/>自動集計]
    D --> E[レポート<br/>自動生成]

    style A fill:#d4edda
    style B fill:#d4edda
    style C fill:#d4edda
    style D fill:#d4edda
    style E fill:#d4edda

    note[合計時間: 約10分/日<br/>効果: 145分削減、ミスゼロ]
\`\`\`

**解説:**
- 時間を明記（⏱️）
- 問題箇所を赤で強調（As-Is）
- 改善箇所を緑で強調（To-Be）
- 効果を数値化

#### Bad Example

\`\`\`mermaid
flowchart LR
    A[営業] --> B[日報] --> C[送信]
\`\`\`

**問題点:**
- 時間が記載されていない
- 問題点が不明確
- 改善効果が分からない

---

## 4. ROI計算フロー

### 目的
投資対効果の計算ロジックを可視化する。

### パターン1: ROI計算フロー

#### Good Example

\`\`\`mermaid
flowchart TB
    A[初期投資<br/>500万円] --> B[年間効果計算]

    B --> C[作業時間削減効果<br/>月300時間削減]
    B --> D[売上増加効果<br/>訪問件数50%増]

    C --> E[金額換算<br/>月150万円<br/>年間1,800万円]
    D --> F[金額換算<br/>年間2,000万円]

    E --> G[合計効果<br/>3,800万円/年]
    F --> G

    G --> H[ROI計算<br/>3,800万円 ÷ 500万円<br/>= 7.6倍]

    H --> I[投資回収期間<br/>500万円 ÷ 3,800万円<br/>= 1.6ヶ月]

    style A fill:#fff3cd
    style G fill:#d4edda
    style H fill:#d4edda
    style I fill:#d4edda
\`\`\`

**解説:**
- 計算過程を明示
- 金額を具体的に記載
- ROIと投資回収期間を明確化

---

## 5. 決定事項フローチャート

### 目的
企画フェーズでの意思決定フローを可視化する。

### パターン1: 承認フロー

#### Good Example

\`\`\`mermaid
flowchart TB
    A[企画書作成] --> B[PM自己レビュー]
    B --> C[営業部長レビュー]
    C --> D{承認?}

    D -->|修正依頼| E[修正実施]
    E --> C

    D -->|承認| F[CTO レビュー]
    F --> G{承認?}

    G -->|修正依頼| H[修正実施]
    H --> F

    G -->|承認| I[経営会議]
    I --> J{承認?}

    J -->|否決| K[企画見直し]
    K --> A

    J -->|承認| L[要件定義フェーズへ]

    style D fill:#fff3cd
    style G fill:#fff3cd
    style J fill:#fff3cd
    style L fill:#d4edda
\`\`\`

**解説:**
- 承認フローを明確化
- 修正・否決時の対応を明示
- 最終ゴールを明確化

---

## ✅ Mermaid図作成チェックリスト

### 作成前チェック

- [ ] どの図を使うか決定した（ステークホルダー/Gantt/フロー/ROI）
- [ ] 目的を明確にした（何を伝えたいか）
- [ ] 必要な情報を整理した

### 作成時チェック

- [ ] 適切な図タイプを選択した
- [ ] タイトルを記載した
- [ ] 具体的な数値・時間を記載した
- [ ] 色分けで視覚的に分かりやすくした
- [ ] 矢印の方向が正しい
- [ ] 説明が足りない箇所にnoteを追加した

### 作成後チェック

- [ ] 一目で理解できるか確認した
- [ ] 情報が過多ではないか確認した
- [ ] 誤字脱字がないか確認した
- [ ] レイアウトが崩れていないか確認した

---

## 💡 Mermaid図作成のコツ

### 1. シンプルに保つ

**Good:**
```
5〜10ノード程度で収める
複雑な場合は複数の図に分割
```

**Bad:**
```
1つの図に20以上のノードを詰め込む
```

---

### 2. 色分けで意味を持たせる

**Good:**
```
- 赤系: 問題点、リスク
- 黄系: 注意点、意思決定
- 緑系: 改善点、承認完了
- 青系: 情報、中立
```

---

### 3. 数値・時間を必ず記載

**Good:**
```
営業日報作成<br/>⏱️ 30分
```

**Bad:**
```
営業日報作成<br/>時間がかかる
```

---

### 4. フローは左→右、上→下

**Good:**
```
flowchart LR  （水平方向）
flowchart TB  （垂直方向）
```

**Bad:**
```
flowchart RL  （右から左、読みにくい）
```

---

## 📝 まとめ

### Mermaid図の本質

**「複雑な構造を一目で理解できるようにする」**

- ステークホルダーマップ: 関係性を可視化
- Gantt図: スケジュールを可視化
- フローチャート: プロセスを可視化
- ROI計算フロー: 投資対効果を可視化

これにより、**企画書の説得力を高める**

### AIファシリテーターとしての心構え

1. **適切な図タイプを選択**
2. **シンプルに保つ**
3. **色分けで視覚的に分かりやすく**
4. **数値・時間を必ず記載**
5. **Good/Bad Exampleを参考にする**

---

**最終更新**: 2025-10-19
**作成者**: Claude (AI開発ファシリテーター)
