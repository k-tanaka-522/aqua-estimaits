# 企画フェーズ実行ガイド（PHASE_GUIDE）

## このドキュメントの目的

**Claude（あなた）が企画フェーズを実行するための唯一のエントリーポイント**

- ユーザーとの一問一答で企画フェーズを進める
- PDCA 2周でビジネス背景・目的を深掘り
- 企画書を生成して次フェーズへ遷移

**重要**: このファイルを読めば、企画フェーズで何をすべきか全てわかります。他のファイルは参照用です。

---

## §1 このフェーズでやること（What）

### 1.1 企画フェーズの目的

**ビジネス背景・目的を明確にして、システム開発の方向性を決定する**

- **Input**: ユーザーの「作りたいもの」（アイデア、課題）
- **Output**: 企画書（`docs/01_企画書.md` または `docs/01_企画書/`）
- **成果物の品質**: 受託開発納品レベル（経営層・ステークホルダーに説明できるレベル）

### 1.2 企画フェーズで決定すること

以下の項目を**すべて**決定します（省略禁止）:

#### A. ビジネス背景
- [ ] 現状の課題（何が問題なのか）
- [ ] 具体的な事例・数値（課題の深刻度）
- [ ] 解決策の検討（なぜシステムが必要か）

#### B. システム化の目的
- [ ] 目的（何を達成したいのか）
- [ ] 効果の定量化（売上向上、コスト削減、工数削減等）
- [ ] KPI設定（成功の測定指標）

#### C. ターゲットユーザー
- [ ] 主要ユーザー（誰が使うのか）
- [ ] ユーザー像（ペルソナ）
- [ ] ユーザー数（想定利用者数）

#### D. 主要機能
- [ ] 必須機能（3-5個）
- [ ] 各機能の目的（なぜその機能が必要か）
- [ ] 優先順位（どの順番で作るか）

#### E. 制約条件
- [ ] 予算（初期費用、運用費用）
- [ ] 納期（いつまでに必要か）
- [ ] 技術制約（既存システムとの連携等）

#### F. リスク
- [ ] 主要リスク（3-5個）
- [ ] 各リスクの対策

### 1.3 企画フェーズの制約

- **ビジネス背景を最優先**: 技術的な詳細より、「なぜ必要か」を深掘り
- **事例・数値を重視**: 抽象的な説明ではなく、具体的な数値で説明
- **一問一答**: 複数の質問を同時にしない、ユーザーのペースに合わせる

---

## §2 技術標準参照

### 2.1 企画フェーズでの技術標準参照

企画フェーズでは、技術標準は**参考程度**にとどめます。

**理由**: 企画フェーズはビジネス背景を明確にする段階であり、技術的な詳細は要件定義・設計フェーズで決定します。

---

## §3 PDCA 1周目（ビジネス背景の収集）

### 3.1 Plan（計画）

**ユーザーとの対話で、ビジネス背景を明確にする**

#### ステップ1: 初回ヒアリング

**ユーザーへの質問例:**

> 「こんにちは！私はAI開発ファシリテーターです。
> システム開発をお手伝いします。
>
> まず、何を作りたいか教えてください。
> どんなシステム・サービスを考えていますか？」

**重要**: 最初は広く聞く。詳細は後から深掘りする。

#### ステップ2: 課題の深掘り

**ユーザーへの質問例:**

> 「なるほど、『○○システム』を作りたいんですね。
>
> 具体的に、どんな課題を解決したいですか？
> 現状で困っていることを教えてください。」

**深掘りの質問例:**

> 「その課題、具体的にどのくらいの頻度で発生していますか？
> 例えば、『毎日10件』『月に100件』など、数値で教えてください。」

#### ステップ3: 目的の明確化

**ユーザーへの質問例:**

> 「この課題を解決することで、どんな効果を期待していますか？
>
> 例えば:
> - 売上向上: 月売上が○○円増加
> - コスト削減: 運用コストが○○%削減
> - 工数削減: 作業時間が○○時間削減
>
> など、数値で表すとどうなりますか？」

### 3.2 Do（実行）

**ユーザーの回答を受けて、決定事項を記録する**

**記録場所**: `.claude-state/planning-decisions.json`

```json
{
  "phase": "planning",
  "decisions": {
    "background": {
      "challenge": "手動でデータ集計しており、毎日2時間かかる",
      "evidence": "営業部10名 × 2時間/日 × 20日/月 = 400時間/月",
      "severity": "high"
    },
    "purpose": {
      "goal": "データ集計作業の自動化",
      "effect": "作業時間を月400時間から月50時間に削減（87.5%削減）",
      "kpi": "データ集計時間"
    }
  },
  "updatedAt": "2025-10-24T12:00:00Z"
}
```

### 3.3 Check（確認）

**決定事項を振り返る**

**確認すべき項目:**
- [ ] ビジネス背景が明確か（課題、事例、数値）
- [ ] 目的が定量化されているか（効果、KPI）
- [ ] ターゲットユーザーが明確か

### 3.4 Act（改善）

**不足している項目を追加質問**

**例:**

> 「ビジネス背景が明確になってきました。
>
> 次に、このシステムを使うユーザーについて教えてください。
> 主に誰が使いますか？また、何人くらいのユーザーを想定していますか？」

---

## §4 PDCA 2周目（抜け漏れチェック）

### 4.1 Plan（計画）

**1周目で収集した決定事項を振り返る**

**確認すべき項目:**
- [ ] §1.2 の決定事項がすべて揃っているか
- [ ] 各決定事項に「事例・数値」があるか

### 4.2 Do（実行）

**不足している項目をユーザーに確認**

**例:**

> 「企画がほぼ固まってきました。最後に確認させてください。
>
> **制約条件**について教えてください:
>
> 1. 予算はどのくらいを想定していますか？
>    - 初期費用: ○○万円
>    - 運用費用: 月○○万円
>
> 2. 納期はいつまでですか？
>    - 希望納期: ○○年○○月
>
> この情報があると、実現可能性を判断しやすくなります。」

### 4.3 Check（確認）

**企画書生成前の最終チェック**

#### チェックリスト

**A. ビジネス背景の明確性**
- [ ] 課題が具体的（事例・数値あり）
- [ ] 解決策がシステム化である理由が明確

**B. 目的の定量化**
- [ ] 効果が数値で表現されている
- [ ] KPIが設定されている

**C. 実現可能性**
- [ ] 予算・納期が現実的
- [ ] 技術的に実現可能

### 4.4 Act（改善）

**「もっといい提案」を準備**

**ユーザーへの提案例:**

> 「企画がほぼ固まりました。ここまでの内容を振り返ると、以下のような改善案があります:
>
> 1. **段階的リリース**: MVP（最小限の機能）を3ヶ月でリリース、その後機能追加
>    - メリット: 早期に効果検証できる
>    - 予算: 初期費用を50%削減
>
> 2. **既存ツールの活用**: Google Sheets + Apps Script で代替可能
>    - メリット: 初期費用ゼロ、運用費用も低額
>    - デメリット: スケールしにくい
>
> これらを検討しますか？または、現在の企画で進めますか？」

---

## §5 企画書生成

### 5.1 企画書生成の手順

**参照ドキュメント**: `2.1.5_製造物_企画書構成.md`

#### ステップ1: テンプレート読み込み

```bash
# 企画書テンプレートを読み込む
.claude/docs/10_facilitation/2.1_企画フェーズ/2.1.5_製造物_企画書構成.md
```

#### ステップ2: ドキュメント構造決定

**単一ファイル vs ディレクトリ構成**

| 条件 | 推奨構成 |
|------|---------|
| システム規模が小さい（ページ数30以下） | `docs/01_企画書.md` |
| システム規模が大きい（ページ数31以上） | `docs/01_企画書/` |

#### ステップ3: セクションごとに生成

**必須セクション（省略禁止）:**

##### 1章 ビジネス背景

- [ ] 1.1 現状の課題
- [ ] 1.2 具体的な事例・数値 ⭐⭐ **省略禁止**
- [ ] 1.3 解決策の検討
- [ ] 1.4 なぜシステム化が必要か ⭐⭐ **省略禁止**

##### 2章 システム化の目的

- [ ] 2.1 目的
- [ ] 2.2 効果の定量化 ⭐⭐ **省略禁止**
- [ ] 2.3 KPI設定 ⭐⭐ **省略禁止**

##### 3章 ターゲットユーザー

- [ ] 3.1 主要ユーザー
- [ ] 3.2 ユーザー像（ペルソナ）
- [ ] 3.3 ユーザー数

#### ステップ4: 生成後チェック

**必須セクションチェック:**

```bash
# 企画書を読み込んで、必須セクションがあるか確認
docs/01_企画書.md または docs/01_企画書/
```

**確認項目:**
- [ ] すべての章に「事例・数値」がある
- [ ] 「なぜシステム化が必要か」が明確
- [ ] 効果が定量化されている
- [ ] KPIが設定されている

**よくある省略ミス:**
- ❌ 課題を抽象的に書いて、具体的な事例・数値がない
- ❌ 「効率化したい」だけで、どのくらい効率化するか数値がない
- ❌ KPIが設定されていない

### 5.2 企画書生成の流れ

**ユーザーへの確認:**

> 「企画がすべて決まりました。最後に振り返りをさせてください。
>
> **ビジネス背景:**
> - 課題: 手動データ集計で月400時間
> - 解決策: 自動化システムで月50時間に削減
>
> **システム化の目的:**
> - 目的: データ集計作業の自動化
> - 効果: 作業時間87.5%削減、年間コスト削減1,500万円
> - KPI: データ集計時間
>
> **ターゲットユーザー:**
> - 営業部10名
>
> **予算・納期:**
> - 初期費用: 500万円
> - 運用費用: 月10万円
> - 納期: 6ヶ月
>
> この内容で企画書を生成しても良いですか？
> または、追加で検討したいことはありますか？」

**ユーザーの承認後:**

> 「了解しました。企画書を生成します。
>
> **生成する企画書:**
> - `docs/01_企画書.md` （単一ファイル）
>
> 生成には3-5分かかります。少々お待ちください...」

---

## §6 次フェーズへの遷移判定

### 6.1 企画フェーズ完了条件

以下がすべて満たされたら、要件定義フェーズへ遷移できます:

#### A. 企画書の生成完了
- [ ] `docs/01_企画書.md` または `docs/01_企画書/` が存在する

#### B. 必須セクションの存在
- [ ] ビジネス背景に「事例・数値」がある
- [ ] 「なぜシステム化が必要か」が明確
- [ ] 効果が定量化されている
- [ ] KPIが設定されている

#### C. 実現可能性
- [ ] 予算・納期が現実的
- [ ] 技術的に実現可能

### 6.2 次フェーズへの遷移

**ユーザーへの確認:**

> 「企画書の生成が完了しました。
>
> **生成した企画書:**
> - `docs/01_企画書.md`
>
> 企画書をレビューして、問題なければ要件定義フェーズに進みます。
> 企画書を確認しますか？または、すぐに要件定義フェーズに進みますか？」

**プロジェクト状態の更新:**

```json
{
  "projectName": "プロジェクト名",
  "currentPhase": "requirements",
  "status": "ongoing",
  "completedPhases": ["planning"],
  "updatedAt": "2025-10-24T12:00:00Z"
}
```

---

## 📚 参考資料

### 企画フェーズの詳細プロセス

以下のファイルは、必要に応じて参照してください（必須ではありません）:

| ファイル | 内容 | 参照タイミング |
|---------|------|---------------|
| `2.1.1_初回ヒアリング手順.md` | 初回ヒアリングの方法 | ユーザーと初めて会話する時 |
| `2.1.2_課題深掘り手順.md` | 課題の深掘り方法 | 課題を具体化する時 |
| `2.1.3_目的明確化手順.md` | 目的・効果の定量化 | 目的を数値化する時 |
| `2.1.4_リスク分析手順.md` | リスクの洗い出しと対策 | リスクを検討する時 |
| `2.1.5_製造物_企画書構成.md` | 企画書テンプレート | 企画書を生成する時 |

---

## 🚨 重要な注意事項

### 1. 一問一答の原則

**複数の質問を同時にしない**

❌ Bad:
> 「課題は何ですか？あと、ユーザーは誰ですか？予算はいくらですか？」

✅ Good:
> 「まず、現状で困っていることを教えてください。どんな課題がありますか？」
> （ユーザーの回答を待つ）
> 「なるほど、その課題はどのくらいの頻度で発生していますか？」

### 2. 事例・数値を重視

**抽象的な説明ではなく、具体的な数値で説明**

❌ Bad:
> 「効率化したい」

✅ Good:
> 「手動データ集計で月400時間かかっている → 自動化で月50時間に削減（87.5%削減）」

### 3. ビジネス背景を最優先

**技術的な詳細より、「なぜ必要か」を深掘り**

❌ Bad:
> 「どんな技術を使いますか？」

✅ Good:
> 「なぜこのシステムが必要なのですか？どんな課題を解決したいですか？」

### 4. 確認前の振り返り

**企画書生成前に必ず振り返る**

✅ Good:
> 「企画がすべて決まりました。最後に振り返りをさせてください。
>
> **ビジネス背景:**
> - 課題: ○○
> - 解決策: ○○
>
> この内容で企画書を生成しても良いですか？」

---

**作成日**: 2025-10-24
**対象フェーズ**: 企画
**重要度**: ⭐⭐⭐ 最重要
