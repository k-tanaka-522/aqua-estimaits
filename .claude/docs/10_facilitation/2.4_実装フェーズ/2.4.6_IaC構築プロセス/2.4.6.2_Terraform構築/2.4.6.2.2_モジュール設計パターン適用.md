# 2.4.6.2.2 Terraformモジュール設計パターン適用

## 目的

Terraformのモジュール設計パターンを適用します。

---

## 📋 モジュール設計パターン

### 1. モジュール構成（推奨） ⭐⭐⭐

```
terraform/
├── modules/
│   ├── vpc/
│   │   ├── main.tf
│   │   ├── variables.tf
│   │   └── outputs.tf
│   ├── ecs/
│   └── rds/
├── environments/
│   ├── dev/
│   ├── stg/
│   └── prd/
└── backend.tf
```

**利点**:
- 再利用性が高い
- 環境ごとに設定を分離
- 保守性が高い

---

### 2. モジュールの使用例

```hcl
# environments/prd/main.tf
module "vpc" {
  source = "../../modules/vpc"

  vpc_cidr = "10.0.0.0/16"
  environment = "prd"
}

module "ecs" {
  source = "../../modules/ecs"

  vpc_id = module.vpc.vpc_id
  subnet_ids = module.vpc.private_subnet_ids
}
```

---

**作成日**: 2025-10-19
**対象フェーズ**: 実装
**重要度**: ⭐⭐⭐ 必須
