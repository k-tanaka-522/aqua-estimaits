# 2.4.5.4.6 Go Good_Bad_Example集

## 目的

Go実装のよくある間違いパターンと推奨パターンを示します。

---

## 🔄 実例パターン集

### 1. エラーハンドリング

#### ❌ Bad Example

```go
// ❌ エラー無視
user, _ := db.Query(id)

// ❌ panic乱用
if err != nil {
    panic(err)  // ❌ 避ける
}
```

#### ✅ Good Example

```go
// ✅ エラーチェック
user, err := db.Query(id)
if err != nil {
    return nil, fmt.Errorf("failed to query user: %w", err)
}
```

---

### 2. 並列処理

#### ❌ Bad Example

```go
// ❌ ループ変数のキャプチャ
for _, id := range ids {
    go func() {
        processUser(id)  // ❌ バグ
    }()
}
```

#### ✅ Good Example

```go
// ✅ 引数で渡す
for _, id := range ids {
    go func(userID int) {
        processUser(userID)
    }(id)
}
```

---

### 3. Null安全性

#### ❌ Bad Example

```go
// ❌ nilチェックなし
func GetUserName(user *User) string {
    return user.Name  // ❌ panic
}
```

#### ✅ Good Example

```go
// ✅ nilチェック
func GetUserName(user *User) string {
    if user == nil {
        return ""
    }
    return user.Name
}
```

---

## 📝 まとめ

### 必ず守るべきこと ⭐⭐⭐

1. **エラーハンドリング**: `if err != nil` で必ずチェック
2. **並列処理**: goroutineでループ変数キャプチャに注意
3. **Null安全性**: nilチェック
4. **テスト**: testify + Table Driven Tests

---

**作成日**: 2025-10-19
**対象フェーズ**: 実装
**重要度**: ⭐⭐⭐ 必須
