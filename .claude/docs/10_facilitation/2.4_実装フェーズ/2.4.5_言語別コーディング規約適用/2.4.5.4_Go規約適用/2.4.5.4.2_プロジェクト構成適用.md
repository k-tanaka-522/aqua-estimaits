# 2.4.5.4.2 Goプロジェクト構成適用

## 目的

`.claude/docs/40_standards/44_go.md` に準拠したGoプロジェクト構成を実装します。

---

## 📁 標準プロジェクト構成

```
myproject/
├── cmd/
│   └── api/
│       └── main.go          # エントリーポイント
├── internal/
│   ├── handler/             # HTTPハンドラー
│   │   └── user_handler.go
│   ├── service/             # ビジネスロジック
│   │   └── user_service.go
│   ├── repository/          # データアクセス
│   │   └── user_repository.go
│   └── model/               # データモデル
│       └── user.go
├── pkg/                     # 外部公開可能なコード
│   └── logger/
│       └── logger.go
├── go.mod
└── go.sum
```

---

## ✅ 各ディレクトリの役割

### 1. `cmd/` - エントリーポイント

```go
// cmd/api/main.go
package main

import (
    "log"
    "net/http"
    "myproject/internal/handler"
)

func main() {
    mux := http.NewServeMux()
    mux.HandleFunc("/users/", handler.GetUser)

    log.Println("Server starting on :8080")
    log.Fatal(http.ListenAndServe(":8080", mux))
}
```

---

### 2. `internal/` - 内部パッケージ

```go
// internal/handler/user_handler.go
package handler

import (
    "encoding/json"
    "net/http"
    "myproject/internal/service"
)

func GetUser(w http.ResponseWriter, r *http.Request) {
    userService := service.NewUserService()
    user, err := userService.GetUser(1)
    if err != nil {
        http.Error(w, err.Error(), http.StatusInternalServerError)
        return
    }
    json.NewEncoder(w).Encode(user)
}
```

---

**作成日**: 2025-10-19
**対象フェーズ**: 実装
**重要度**: ⭐⭐⭐ 必須
